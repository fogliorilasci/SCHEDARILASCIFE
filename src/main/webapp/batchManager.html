<!DOCTYPE html>
<body ng-app="schedaRilasci">

<nav class="navbar navbar-toggleable-md navbar-inverse bg-inverse">
		<button class="navbar-toggler navbar-toggler-right" type="button"
			data-toggle="collapse" data-target="#navbarNavDropdown"
			aria-controls="navbarNavDropdown" aria-expanded="false"
			aria-label="Toggle navigation">
			<span class="navbar-toggler-icon"></span>
		</button>
		<div class="container">
			<div class="collapse navbar-collapse" id="navbarNavDropdown">
			<ul class="navbar-nav">
					<li class="nav-item active"></li>
				</ul>
			</div>
		</div>
		<a href="#!/stato" class="btn btn-info btn-sm">
          <span class="glyphicon glyphicon-th-list"></span> Switch to frontend
        </a>
	</nav>

	<div class="card">
		<h3 class="card-header">Active scheduler</h3>
		<div class="card-block" style="overflow-x: auto;"
			ng-controller="elencoScheduler">
			<table class="table">
				<thead>
					<tr>
						<th scope="col">ID</th>
						<th>Mode</th>
						<th>Operation</th>
						<th>Status</th>
					</tr>
				</thead>
				<tbody>
					<tr ng-repeat="i in listaBatch">
						<td>{{i["uniqueid"]}}</td>
						<td>
							<div ng-if="i['mode'] == '0'">LOOP_ON_DELAY</div>
							<div ng-if="i['mode'] == '1'">LOOP_CERTAIN_TIME</div>
							<div ng-if="i['mode'] == '2'">ONE_SHOT</div>
						</td>
						<td>
							<div ng-if="i['operation'] == '-1'">TRUNCATE_DATA</div>
							<div ng-if="i['operation'] == '1'">APPEND_DATA</div>
							<div ng-if="i['operation'] == '2'">UPDATE_DATA</div>
							<div ng-if="i['operation'] == '3'">ARRANGE_DATA</div>
						</td>
						<td>{{i["status"]}}</td>
					</tr>
				</tbody>
			</table>
		</div>
	</div>
	<br />
	<div class="card">
		<h3 class="card-header">Stop Scheduler</h3>
		<div class="card-block" ng-controller="elencoScheduler">
			<form>
				<div class="form-group">

					<select class="form-control" id="sel1" ng-model="idScheduler" ng-value="{{i['uniqueid']}}">
						<option ng-repeat="i in listaBatch">{{i["uniqueid"]}}</option>
                   </select>
               <!--         <select name="singleSelect" ng-model="singleSelect">
      <option value="option-1">Option 1</option>
      <option value="option-2">Option 2</option>
    </select> --><br>
				</div>
				<button type="button" class="btn btn-secondary"
					title="Viene stoppato lo scheduler"
					style="margin-left: calc(50% - 50px); width: 100px;"
					ng-click="stop(idScheduler)">Stop</button>
			</form>

		</div>

	</div>

	<br />
	<div class="card">
		<h3 class="card-header">Avvia Scheduler</h3>
		<div class="card-block" ng-controller="avviaScheduler">
			<form>
				<div class="form-group row" style="margin-left: 15px;">
					<label class="radio-inline" style="margin-right: 5%;"><input
						type="radio" name="tempoEsecuzione" ng-model="tempoEsecuzione"
						id="0" value="0"> Loop on delay </label> <label
						class="radio-inline" style="margin-right: 5%;"><input
						type="radio" name="tempoEsecuzione" ng-model="tempoEsecuzione"
						id="1" value="1"> Loop certain time </label> <label
						class="radio-inline"><input type="radio"
						name="tempoEsecuzione" ng-model="tempoEsecuzione" id="2" value="2">
						One shot </label>
				</div>
				<div class="form-group row"
					style="margin-left: 15px; margin-right: 30px; background-color: #CCCCCC;">
					<label class="radio-inline" style="margin-right: 5%;"><input
						type="radio" name="" ng-model="tipoEsecuzione" id="0" value="-1">
						Truncate</label> <label class="radio-inline" style="margin-right: 5%;"><input
						type="radio" name="tipoEsecuzione" ng-model="tipoEsecuzione"
						id="1" value="3"> Arrange</label> <label class="radio-inline"><input
						type="radio" name="tipoEsecuzione" ng-model="tipoEsecuzione"
						id="2" value="2"> Update CSV</label> <label class="radio-inline"
						style="margin-right: 5%;"><input type="radio"
						name="tipoEsecuzione" ng-model="tipoEsecuzione" id="0" value="1">
						Append CSV</label>
				</div>
				<div ng-show="tempoEsecuzione == '0'">
					<div class="form-group row">
						<label for="example-date-input" class="col-2 col-form-label">Seconds</label>
						<div class="col-10">
							<input ng-model="secondi" class="form-control" type="number"
								placeholder="Insert seconds here" id="secondi">
						</div>
					</div>
				</div>
				<div class="check-element funky-show-hide"
					ng-show="tempoEsecuzione == '1'">
					<div class="form-group row">
						<label for="example-date-input" class="col-2 col-form-label">Date</label>
						<div class="col-10">
							<input class="form-control" type="date" value="2011-08-19"
								id="example-date-input" ng-model="data">
						</div>
					</div>

					<div class="form-group row">
						<label for="example-time-input" class="col-2 col-form-label">Time</label>
						<div class="col-10">
							<input class="form-control" type="time" value="13:45:00"
								id="example-time-input" ng-model="time">
						</div>
					</div>
				</div>
				<button type="button" class="btn btn-secondary"
					title="Viene stoppato lo scheduler"
					style="margin-left: calc(50% - 50px); width: 100px;"
					ng-click="submit(tempoEsecuzione,tipoEsecuzione,secondi,data,time)">Avvia</button>
			</form>

		</div>
	</div>
</body>
</html>